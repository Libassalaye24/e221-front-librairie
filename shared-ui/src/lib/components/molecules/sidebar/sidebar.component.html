<div
  [ngClass]="{
    'sidebar-collapsed': isCollapsed,
    'sidebar-expanded': !isCollapsed
  }"
  class="sidebar-container"
>
  <!-- Header -->
  <div class="header" [ngClass]="{ divider: !isAdmin }">
    <div
      class="header-content justify-between relative"
    >
      <button
        type="button"
        aria-expanded="false"
        aria-haspopup="dialog"
        (click)="toggleCollapse()"
        aria-label="Toggle navigation"
        aria-controls="hs-sidebar-content-push"
        data-hs-overlay="#hs-sidebar-content-push"
        [ngClass]="{ 'absolute right-0 top-0  mt-0': !isCollapsed }"
        class=" flex justify-center items-center gap-x-3 size-8 text-sm text-gray-600 hover:color-gray-100 rounded-full disabled:opacity-50 disabled:pointer-events-none focus:outline-hidden focus:color-gray-100 dark:text-neutral-400 dark:hover:color-neutral-700 dark:focus:color-neutral-700 dark:hover:text-neutral-200 dark:focus:text-neutral-200"
      >
        <img class="w-24 h-24 " src="assets/icons/collapse-sidebar.svg" alt="collapse ">
      </button>
      <div *ngIf="!isCollapsed" class="header-info mt-2" >
        <img [src]="logoUrl" class="w-12" alt="logo">
        <p class="subtitle">
         {{ title }}
        </p>
        <h1 class="title">
          {{ subtitle }}
        </h1>
      </div>


    </div>
  </div>


  <!-- Navigation -->
  <nav class="navigation">
    <ng-container *ngFor="let section of menuItems; let i = index">
      <div
        class="menu-section"
        [ngClass]="{ 'border-separator': i > 0 && isCollapsed }"
      >
        <!-- Section Header -->
        <div
          class="section-header"
          tabindex="-1"
          (click)="!isCollapsed && toggleSection(section.section)"
          (keydown)="!isCollapsed && toggleSection(section.section)"
        >
          <h2 *ngIf="!isCollapsed" class="section-title" >
            {{ section.section }}
          </h2>
        </div>

        <!-- Section Content -->
        <div class="section-content" >
          <ul>
            <li *ngFor="let item of section.items" class="menu-item-wrapper">

                <a
                  (click)="onMenuItemClick(item)"
                  class="menu-item"
                  [ngClass]="{
                  'justify-center': isCollapsed,
                  'active': item.active
                }"
                >
                  <i class="pi {{ item.icon }} icon"></i>
                  <span *ngIf="!isCollapsed" class="label">{{
                      item.label
                    }}</span>
                  <span
                    *ngIf="!isCollapsed && item.hasNotification"
                    class="notification"

                  ></span>
                </a>
            </li>
          </ul>
        </div>
      </div>
    </ng-container>
  </nav>
</div>
