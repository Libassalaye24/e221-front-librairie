<div>
  <p-dropdown
    [options]="options"
    [(ngModel)]="selectedValue"
    (ngModelChange)="onYearChange($event)"
    [optionLabel]="label"
    size="size"
    optionValue="value"
    [placeholder]="placeholder"
    styleClass="school-year-dropdown flex items-center justify-center"
    [showClear]="clear">

    <ng-template pTemplate="selectedItem" let-selectedOption>
      <div class="flex align-items-center">
        @if (selectedOption?.icon) {
          <i [class]="'icon ' + selectedOption?.icon || 'pi pi-calendar'" class="mr-2"></i>
        }
        <span>{{ selectedOption?.label || selectedOption }}</span>
      </div>
    </ng-template>

    <ng-template pTemplate="item" let-option>
      <div class="flex align-items-center">
        @if (option.icon) {
          <i [class]="'icon ' + option.icon || 'pi pi-calendar'" class="mr-2"></i>
        }
        <span>{{ option.label }}</span>
      </div>
    </ng-template>

  </p-dropdown>
</div>
